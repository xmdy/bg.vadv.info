// The visuals

@mixin dark-tint-text {
  color: $dark-tint;
  text-shadow: 0 -1px 1px white; }
  
@mixin light-tint-text {
  color: $tint;
  text-shadow: 0 -1px 1px $dark-tint; }


body {
  background: $background-tint;
  &.home h1 {
    @include adjust-font-size($h1-scale, 1, -1);
  }
}

/* ========== */
/* = Header = */
/* ========== */

div#header {
  background: $base-color;
  
  p.title {
    float: left;
    margin: 0 0 6px 15px;
    line-height: 1.2em;
    font-weight: normal;
    font-size: 227%;
    color: #ddd;
  }
  
  ul.nav {
    
    li {
      background: $background-tint - #111;
      
      a {
        font-weight: bold;
        font-size: 1.2em;
        color: $base-color;
      }
    }
    
    li.current {
      background: $background-tint;
    }
  }
}

/* =========== */
/* = Content = */
/* =========== */

div#content {
  position: relative;
  
  div.date {
    position: absolute;
    right: 40em;
    top: $vertical-rhythm * 3;
    text-align: right;
    @include dark-tint-text;
  }
  h2 {
    background: $background-tint - #111111;
    background: rgba($background-tint - #222222, 0.4) url(/lines.png) repeat;
    margin-left: -2em / $h2-scale * $base-scale;
    margin-right: 0;
    padding-left: 1em;
    padding-right: 1em;
    text-shadow: 0 1px 0 $tint + #333333;
  }
  ol, ul {
    margin-left: 1.5em;
  }
  img {
    max-width: 100%;
    margin-bottom: $base-vertical-margin;
  }
  
  code, pre {
    background-color: $background-tint;
  }
  code {
    padding: 1px 3px;
  }
  pre {
    border-left: 0.4em solid $border-color;
    code {
      padding: 0;
    }
  }
  pre.CodeRay {
    background: $background-highlight;
  }
      
  // Pages/articles assigned to this page
  
  ol.pages {
    margin-left: 0;
    
    li {
      position: relative;
      margin-left: -1.5em;
      padding: 0 0 1.5em 1.5em;
      list-style: none;
      border-bottom: 3px dashed $light-tint;
      
      h2 {
        margin-left: 0;
        margin-right: 0;
        padding: 0;
        background: none;
      }
      div.date {
        top: $vertical-rhythm * 2.5;
        right: 39em;
      }
      h3 + div.date {
        top: $vertical-rhythm * 1.5;
      }
    }
  }
  p.read_more {
    @include adjust-font-size(0.909, 0, 0); }
  div.categories {
    margin-left: -1em;
    margin-right: -1em;
    border-top: 1px solid $background-tint - #0a0a0a;
    padding: 0.5em 1em;
    background: $background-tint;
    a {
      margin-right: 0.25em; } }
  div#disqus_thread {
    img {
      max-width: none; }
    ul#dsq-comments {
      margin-left: 0; } } }

.sidebar {
  @include border-radius(0.5em);
  background-color: $background-highlight;
/*  background-color: rgba(255, 255, 255, 0.9);*/
  h2 {
    @include adjust-font-size(1, 1.4, 0.6);
    font-weight: bold; }
  ul.menu {
    list-style: none; }
  div.feed,
  div.social {
    margin: $base-vertical-margin 0; }
  div.feed a {
    padding: 6px 0 6px 36px;
    background: url(/feed-icon.png) no-repeat left center; }
  div.social {
    img {
      margin-right: 0.25em;
      padding: 2px;
      &:hover {
        padding: 1px;
        border: 1px solid $tint; } } } }